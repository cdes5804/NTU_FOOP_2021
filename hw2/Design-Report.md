# Design Report
> Please follow the instructions in homework 2 (officially announced version on NTU COOL) to finish the report.

## Software Design

> In this design report, you **DO NOT** need to illustrate your design of every class. 
> You only need to write down how do you achieve the Open-Close principle on those requirements which ask you to follow the Open-Close principle under certain cases.

- Follow the Open-Close Principle on removing/adding the implementations of AI units

To remove AI (make every unit manual) or use another AI, create another class for the unit that inherits the abstract class **Unit** and implement how it selects actions and targets. Then, create a factory class that inherits **UnitFactory** that will generate the newly added type of unit. Finally, replace the factory in *Main.java* with the new factory, then all units except for the Hero will be generated by that factory.

- Follow the Open-Close Principle on removing/adding the skill SelfHealing

Simply remove or add `allowedSkills.add(new SelfHealing());` in *Main.java* to disable or enable the skill. SelfHealing only increments a unit's hp, Removing or adding the skill does not cause any side effect to other components.

- Follow the Open-Close Principle on removing/adding the skill Summon

Simply remove or add `allowedSkills.add(new Summon(factory));` in *Main.java* to disable or enable the skill. Summon only creates a new unit using the given factory. Removing or adding the skill does not cause any side effect to other components.

- Follow the Open-Close Principle on removing/adding the skill Petrochemical

Simply remove or add `allowedSkills.add(new Petrochemical());` in *Main.java* to disable or enable the skill. Petrochemical will create a state with the same name, i.e. **Petrochemical**, that is attached to a unit. The **Petrochemical** state will be created if and only if the skill Petrochemical is used, so removing the skill automatically remove the state as well.

## Bonus Design

- Follow the Open-Close Principle on removing/adding the skill Curse

Simply remove or add `allowedSkills.add(new Curse());` in *Main.java* to disable or enable the skill. There is an attribute **deathEffect** consisting of a list of **Effect**, which will be triggered when a unit is dead. The skill Curse will create a **Heal** effect in the target's **deathEffect**, so when the target is dead. Note that **Effect** is extensible. If there are other skills that will have an effect when a unit is dead, create a **Effect** class that inherits **EffectBase** and then it can be added in **deathEffect**.

- Follow the Open-Close Principle on removing/adding the skill Cheerup

Simply remove or add `allowedSkills.add(new Cheerup());` in *Main.java* to disable or enable the skill. The skill will set the **bonusDamage** attribute in a unit to 50. Note that **bonusDamage** can be set or accessed by other skills or objects as well.

- Follow the Open-Close Principle on removing/adding the skill OnePunch

Simply remove or add `allowedSkills.add(new Punch());` in *Main.java* to disable or enable the skill. As the implementation of **OnePunch** is already provided and no modification can be done, I create a wrapper class **Punch** to contain its behavior. When **Punch** is used, a dummy unit specifically designed to interact with **OnePunch** is created. It implements the interface **Target** so it can receive the damage caused by **OnePunch** and report to **Punch**, where actual damage to the target unit is handled. As the dummy unit and **OnePunch** are created if and only if **Punch** is used, removing **Punch** will also remove those two objects automatically.